<html>
<head>
<title>A bug in Microsoft's login system made it easy to hijack anyone's Office account • TechCrunch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">微软登录系统的一个漏洞使得劫持任何人的Office账户变得轻而易举TechCrunch</h1>
<blockquote>原文：<a href="https://web.archive.org/web/https://techcrunch.com/2018/12/11/microsoft-login-bug-hijack-office-accounts/">https://web.archive.org/web/https://techcrunch.com/2018/12/11/microsoft-login-bug-hijack-office-accounts/</a></blockquote><div><div class="article-content">
				<p id="speakable-summary" class="translated">一连串的错误链接在一起，创造了获取某人微软账户的完美攻击——只需欺骗用户点击链接。</p>
<p class="translated">印度的漏洞猎人Sahad Nk 发现微软的一个子域“【success.office.com】T2”没有被正确配置，于是他接管了这个子域。他使用CNAME记录，一个用于将一个域链接到另一个域的规范记录，将未配置的子域指向他自己的Azure实例。他在发表前与TechCrunch分享的一篇文章中说<a href="https://web.archive.org/web/20221205132750/https://www.safetydetective.com/blog/microsoft-outlook/">这样做，他控制了子域——以及发送给它的任何数据。</a></p>
<p class="translated">这本身不会有太大的问题，但Nk还发现，在用户通过微软的Live登录系统登录后，微软Office、Store和Sway应用程序可能会被诱骗将他们经过验证的登录令牌发送到他新控制的域。</p>
<p class="translated">这是因为易受攻击的应用程序使用通配符正则表达式，允许所有的<a href="https://web.archive.org/web/20221205132750/http://office.com/">office.com</a>——包括他新控制的子域——被信任。</p>
<p class="translated">例如，一旦受害者点击了电子邮件中发送的特制链接，用户将使用他们的用户名和密码以及双因素代码(如果设置了的话)通过微软的登录系统登录，这将创建一个帐户访问令牌来保持用户登录，而不必反复输入他们的密码。获得一个帐户访问令牌相当于拥有某人的凭据，并允许攻击者无缝地闯入该用户的帐户，通常不会引发任何警报或触发任何警告。(今年早些时候，正是这种账户令牌让3000多万脸书账户面临风险。)</p>
<p class="translated">但恶意URL的制作方式是指示微软的登录系统将帐户令牌传递给Nk的受控子域——如果它被恶意攻击者控制，可能会使无数帐户面临风险。最糟糕的是，恶意URL看起来是合法的——因为用户仍然通过微软的系统登录，并且URL中的“wreply”参数看起来也不可疑，因为它是Office子域。</p>
<p class="translated">换句话说:任何人的办公室账户——甚至企业和公司账户，包括他们的电子邮件、文档和其他文件，都可能被恶意攻击者轻松访问——并且几乎不可能从合法用户那里识别出来。</p>
<p class="translated">Nk在<a href="https://web.archive.org/web/20221205132750/http://twitter.com/PaulosYibelo"> Paulos Yibelo </a>的帮助下，向微软报告了这个bug，微软修复了这个漏洞。</p>
<p class="translated">“微软安全响应中心在2018年11月减轻了这起案件，”微软发言人在给TechCrunch的一封电子邮件中证实。他解释说，通过删除指向Nk的Azure实例的CNAME记录，该漏洞已得到修复。</p>
<p class="translated">微软为Nk的努力支付了一笔bug赏金。</p>

			</div>

			</div>    
</body>
</html>