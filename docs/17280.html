<html>
<head>
<title>Facebook engineers develop new open source time keeping appliance • TechCrunch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">脸书工程师开发新的开源计时设备 TechCrunch</h1>
<blockquote>原文：<a href="https://web.archive.org/web/https://techcrunch.com/2021/08/11/facebook-engineers-develop-new-open-source-time-keeping-appliance/">https://web.archive.org/web/https://techcrunch.com/2021/08/11/facebook-engineers-develop-new-open-source-time-keeping-appliance/</a></blockquote><div><div class="article-content">
				<p id="speakable-summary" class="translated">大多数人可能没有意识到我们的设备是多么受时间驱动，无论是你的手机、笔记本电脑还是网络服务器。在很大程度上，保持时间是一件深奥的苦差事，由有限的几个硬件制造商负责。虽然这些设备达到了它们的目的，但脸书的几名工程师认为必须有更好的方法。因此，他们建造了一个新的更精确的计时设备，可以安装在 PCI Express (PCIe)卡上，并将其作为开源项目贡献给了开放计算项目<a href="https://web.archive.org/web/20221025222235/https://www.opencompute.org/projects/time-appliances-project-tap-incubation">。</a></p>
<p class="translated">脸书的生产工程师 Oleg Obleukhov 说，在基本层面上，它只是简单地查验这个计时服务器，以确保每个设备都报告相同的时间。“今天几乎每一个电子设备都使用 NTP——网络时间同步协议——你可以在手机、手表、笔记本电脑等任何地方使用它，它们都连接到这些 NTP 服务器上，然后说‘几点了’, NTP 服务器就会提供时间，”他解释道。</p>
<p class="translated">在脸书发明新的方法之前，基本上有两种方法来检查时间。如果你是一名开发人员，你可能会使用像 Facebook.com 这样的东西作为时间检查机制，但像脸书这样大规模工作的公司，需要一些即使没有互联网连接也能工作的东西。运行数据中心的公司有一个名为 Stratum One 的硬件设备，这是一个位于数据中心的大盒子，除了充当计时器之外没有其他工作。</p>
<p class="translated">因为这些计时盒是由几家公司多年来制造的，它们很坚固，很好用，但很难有新的功能。更重要的是，像脸书这样的公司无法控制这些盒子，因为它们是私有的。Obleukhov 和他的同事研究科学家 Ahmad Byagowi 开始解决这个问题，他们寻找一种方法来制造这些设备，用现成的部件制作 PCIe 卡，你可以把它插入任何有开放插槽的 PC。</p>
<p/><div id="attachment_2188442" class="wp-caption aligncenter"><img aria-describedby="caption-attachment-2188442" loading="lazy" class="size-large wp-image-2188442" src="../Images/a7bb38d77185fb21ed0dc43546b7942e.png" alt="Facebook time keeping PCI card" srcset="https://web.archive.org/web/20221025222235im_/https://techcrunch.com/wp-content/uploads/2021/08/CD21_391-Eng-Blog-Facebook-Time-Appliances-diagram-11-v2.jpg 1921w, https://web.archive.org/web/20221025222235im_/https://techcrunch.com/wp-content/uploads/2021/08/CD21_391-Eng-Blog-Facebook-Time-Appliances-diagram-11-v2.jpg?resize=150,112 150w, https://web.archive.org/web/20221025222235im_/https://techcrunch.com/wp-content/uploads/2021/08/CD21_391-Eng-Blog-Facebook-Time-Appliances-diagram-11-v2.jpg?resize=300,223 300w, https://web.archive.org/web/20221025222235im_/https://techcrunch.com/wp-content/uploads/2021/08/CD21_391-Eng-Blog-Facebook-Time-Appliances-diagram-11-v2.jpg?resize=768,572 768w, https://web.archive.org/web/20221025222235im_/https://techcrunch.com/wp-content/uploads/2021/08/CD21_391-Eng-Blog-Facebook-Time-Appliances-diagram-11-v2.jpg?resize=680,506 680w, https://web.archive.org/web/20221025222235im_/https://techcrunch.com/wp-content/uploads/2021/08/CD21_391-Eng-Blog-Facebook-Time-Appliances-diagram-11-v2.jpg?resize=1536,1143 1536w, https://web.archive.org/web/20221025222235im_/https://techcrunch.com/wp-content/uploads/2021/08/CD21_391-Eng-Blog-Facebook-Time-Appliances-diagram-11-v2.jpg?resize=1200,893 1200w, https://web.archive.org/web/20221025222235im_/https://techcrunch.com/wp-content/uploads/2021/08/CD21_391-Eng-Blog-Facebook-Time-Appliances-diagram-11-v2.jpg?resize=50,37 50w" sizes="(max-width: 680px) 100vw, 680px" data-original-src="https://web.archive.org/web/20221025222235im_/https://techcrunch.com/wp-content/uploads/2021/08/CD21_391-Eng-Blog-Facebook-Time-Appliances-diagram-11-v2.jpg?w=680"/><p id="caption-attachment-2188442" class="wp-caption-text translated"><strong>图片来源:</strong>脸书</p></div>
<p class="translated">他们真的在 iPad 上画出了第一个设计，并开始将这一愿景构建成原型。时间设备依赖于几个关键部件:GNSS 接收器和所谓的高稳定性振荡器。<a href="https://web.archive.org/web/20221025222235/https://engineering.fb.com/2021/08/11/open-source/time-appliance/">在描述项目</a>的博客文章中，Obleukhov 和 Byagowi 解释了这两个部分的作用:</p>
<p class="translated">“这一切都始于 GNSS 接收器，它提供时间(ToD)和每秒 1 个脉冲(PPS)。当接收器由高稳定性振荡器(例如，原子钟或恒温晶体振荡器)支持时，它可以提供纳秒精度的时间。时间是通过现成的网卡在网络上传递的，”两位工程师写道。</p><p class="piano-inline-promo"/>
<p class="translated">当这样描述时，这听起来很基本，但它实际上很复杂，也许这就是为什么没有人想到以这种方式解决问题，只是接受当前确定时间的方法工作良好。但是这两位脸书的工程师对这些方法的局限性感到恼火，决定自己做一些更好的东西。</p>
<p class="translated">“这很大程度上源于挫折。我们对市场上存在的任何东西都感到沮丧，我们需要某些功能，如安全功能，以维护不同的东西并监控正在发生的事情。Obleukhov 说:“我们不得不总是向供应商询问(这些新功能)，每次请求都需要六个月到一年的时间，而且(这不是我们想要的)，我们不得不一直改变东西，所以这就是为什么我们必须以这种方式基本上从头开始制作。”</p>

<p class="translated">原子钟/振荡器小型化的进步使得在 PCIe 卡片上放置计时装置成为可能。所以当你把他们沮丧的时间和当前的技术能力结合起来，他们意识到如果他们致力于这项任务，他们自己也能做到。</p>
<p class="translated">当设计开始整合时，工程师们决定让它变得灵活，使工程师们能够完成基本设计，并加入任何满足他们需求的组件。有些可能需要非常复杂昂贵的零件，但其他人可以根据自己的要求，用便宜得多的零件就可以了。</p>
<p class="translated">他们也很早就决定开源设计过程，并参与开放计算项目，以便其他公司和工程师可以为设计做出贡献。“它实际上从一开始就是开源的，原因是我们需要社区的支持。我不希望它只是一个内部项目，比方说，如果我或企业失去了兴趣(它可能会消失)。Obleukhov 说:“不管发生了什么，我都希望这一切继续下去。”。</p>
<p class="translated">今天有十几家厂商参与了这个项目，并且有许多卡问世，包括由这些工程师设计的卡，以及来自<a href="https://web.archive.org/web/20221025222235/https://www.orolia.com/about-the-atomic-reference-time-card-art-card/"> Orolia </a>的商业产品，但是目标是继续改进设计，并且通过使其开源，参与的公司和工程师社区将继续改进它。</p>

			</div>

			</div>    
</body>
</html>